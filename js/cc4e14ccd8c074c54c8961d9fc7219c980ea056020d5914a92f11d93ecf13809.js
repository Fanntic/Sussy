!function(){var e={779:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"==o||"number"==o)e.push(n);else if(Array.isArray(n)&&n.length){var i=a.apply(null,n);i&&e.push(i)}else if("object"==o)for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},226:function(e){e.exports='module.exports = __webpack_public_path__ + "../html/navigation.html";'}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=React,t=n.n(e),r=CoreUtilities,a=ReactDOM,o=Roblox,i=n.n(o),c=HeaderScripts,l=ReactUtilities,u={arrowUp:38,arrowDown:40,tab:9,enter:13},s={name:"Roblox.Logout"},m=1,f={clickMerchandise:"clickMerchandiseInLeftNav",goToAmazonStore:"clickContinueToAmazonStore"},p="FriendshipNotifications",d="Roblox.Friends.CountChanged",v={name:"Roblox.Messages.CountChanged"},b={name:"headerMenuIconClick"},y="quickLogin",g="logout",h="settings",S={common:["CommonUI.Features","Common.AlertsAndOptions"],feature:"Feature.ShopDialog"},E=PropTypes,w=n.n(E),O=n(779),C=n.n(O),x=ReactStyleGuide,A=RobloxThumbnails,I=RobloxBadges,N=o.Endpoints.getAbsoluteUrl,R=o.EnvironmentUrls.authApi,k={url:N("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"],icon:"icon-menu-games-off"},T={url:N("/catalog?CatalogContext=1&Keyword="),label:"Label.AvatarShop",pageSort:["catalog","inventory","bundles","my/avatar","trades"],icon:"icon-menu-shop"},U=(E=[{url:N("/search/users?keyword="),label:"Label.Players",pageSort:["users"],icon:"icon-menu-profile"},T,{url:N("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"],icon:"icon-menu-groups"},{url:N("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"],icon:"icon-menu-library"}],{creatorMarketplaceUrl:"https://create.".concat(o.EnvironmentUrls.domain,"/marketplace/models?keyword="),scrollListItems:{home:{url:N("/"),idSelector:"nav-home",iconClass:"icon-nav-home",name:"home",labelTranslationKey:"Label.sHome"},profile:{url:N("/users/".concat(c.authenticatedUser.id,"/profile")),idSelector:"nav-profile",iconClass:"icon-nav-profile",name:"profile",labelTranslationKey:"Label.sProfile"},messages:{url:N("/my/messages/#!/inbox"),urlForNotification:N("/my/messages/#!/inbox"),idSelector:"nav-message",iconClass:"icon-nav-message",name:"messages",labelTranslationKey:"Label.sMessages"},friends:{url:N("/users/friends"),urlForNotification:N("/users/friends#!/friend-requests"),idSelector:"nav-friends",iconClass:"icon-nav-friends",name:"friends",labelTranslationKey:"Label.sFriends"},avatar:{url:N("/my/avatar"),idSelector:"nav-character",iconClass:"icon-nav-charactercustomizer",name:"avatar",labelTranslationKey:"Label.sAvatar"},inventory:{url:N("/users/".concat(c.authenticatedUser.id,"/inventory")),idSelector:"nav-inventory",iconClass:"icon-nav-inventory",name:"inventory",labelTranslationKey:"Label.sInventory"},trade:{url:N("/trades"),urlForNotification:N("/trades"),idSelector:"nav-trade",iconClass:"icon-nav-trade",name:"trade",labelTranslationKey:"Label.sTrade"},groups:{url:N("/my/groups"),idSelector:"nav-group",iconClass:"icon-nav-group",name:"groups",labelTranslationKey:"Label.sGroups"},blog:{url:N("https://blog.roblox.com"),idSelector:"nav-blog",iconClass:"icon-nav-blog",name:"blog",labelTranslationKey:"Label.sBlog"},shop:{isModal:!0,idSelector:"nav-shop",iconClass:"icon-nav-shop",name:"shop",labelTranslationKey:"Label.OfficialStore"},giftcards:{url:N("/giftcards-us"),idSelector:"nav-giftcards",iconClass:"icon-nav-giftcards",name:"giftcards",labelTranslationKey:"Label.GiftCards"}},upgradeButton:{url:N("/premium/membership?ctx=leftnav"),labelTranslationKey:c.authenticatedUser.isPremiumUser?"ActionsPremium":"ActionsGetPremium"},sponsorEvents:{label:{labelTranslationKey:"Label.sEvents"},events:{}},gameSearchLink:k,avatarSearchLink:T,miscSearchLink:E,universalSearchUrls:[{url:N("/search/users?keyword="),label:"Label.Players",pageSort:[]},{url:N("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"]},{url:N("/catalog/browse.aspx?CatalogContext=1&Keyword="),label:"Label.sCatalog",pageSort:["catalog","inventory","bundles"]},{url:N("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"]},{url:N("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"]}],newUniversalSearchUrls:[k].concat(E),settingsUrl:{settings:{url:N("/my/account"),label:"Label.sSettings"},quickLogin:{url:N("/home"),label:"Label.sQuickLogin"},help:{url:N("/info/help?locale="),label:"Label.sHelp"},logout:{url:"".concat(R,"/v2/logout"),label:"Label.sLogout"}},buyRobuxUrl:{robuxBalance:{url:N("/transactions"),label:"Label.sRobuxMessage"},buyRobux:{url:N("/upgrades/robux?ctx=navpopover"),label:"Label.sBuyRobux"}},userDataUrl:N("/navigation/userData"),quickLoginUrl:N("/crossdevicelogin/ConfirmCode")}),P=o.Endpoints.getAbsoluteUrl,j=o.EnvironmentUrls.authApi,L=o.EnvironmentUrls.accountSettingsApi,D=o.EnvironmentUrls.websiteUrl,q=o.EnvironmentUrls.adsApi,M=o.EnvironmentUrls.economyApi,_=o.EnvironmentUrls.privateMessagesApi,F=o.EnvironmentUrls.tradesApi,B=o.EnvironmentUrls.friendsApi,G=(O=(o.EnvironmentUrls.apiGatewayUrl,function(){return P("/account/signupredir")}),T=function(){return D},k=function(){return P("/")},E=function(e,t){return P("/".concat(e.toLowerCase(),"/").concat(t))},R=function(){return P("/login")},function(e){return"".concat(M,"/v1/users/").concat(e,"/currency")}),K=function(){var e={url:"".concat(_,"/v1/messages/unread/count"),withCredentials:!0};return r.httpService.get(e)},Q=function(){var e={url:"".concat(B,"/v1/user/friend-requests/count"),withCredentials:!0};return r.httpService.get(e)},V=CoreRobloxUtilities;function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=V.dataStores.userDataStore.maxFriendRequestNotificationCount;function H(e){var n=e.translate,a=e.idSelector,o=e.isModal,i=e.name,c=e.iconClass,l=e.labelTranslationKey,u=e.url,s=e.urlForNotification,m=e.onClickShopLink,f=e.friendsData,p=e.messagesData,d=e.tradeData;u=null!=(e=(W(e={},U.scrollListItems.friends.name,f),W(e,U.scrollListItems.messages.name,p),W(e,U.scrollListItems.trade.name,d),e)[i])&&e.count?s:u;return o?t().createElement("li",{key:i},t().createElement("button",{id:a,type:"button",onClick:m,className:"dynamic-overflow-container text-nav"},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)))):t().createElement("li",{key:i},t().createElement(x.Link,{url:u,id:a,className:"dynamic-overflow-container text-nav"},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)),e&&0<e.count&&t().createElement("div",{className:"dynamic-width-item align-right"},t().createElement("span",{className:"notification-blue notification",title:r.numberFormat.getNumberFormat(e.count)},function(e,t){return e===U.scrollListItems.friends.name&&z<=t?"".concat(z,"+"):r.abbreviateNumber.getTruncValue(t,1e3)}(i,e.count)))))}H.defaultProps={idSelector:"",url:"",urlForNotification:"",isModal:!1,friendsData:{count:0},messagesData:{count:0},tradeData:{count:0}},H.propTypes={idSelector:w().string,translate:w().func.isRequired,isModal:w().bool,name:w().string.isRequired,iconClass:w().string.isRequired,labelTranslationKey:w().string.isRequired,url:w().string,urlForNotification:w().string,onClickShopLink:w().func.isRequired,friendsData:w().shape({count:w().number}),messagesData:w().shape({count:w().number}),tradeData:w().shape({count:w().number})};var $=H,X=(N=V.eventStreamService.eventTypes,E),Y={name:"sponsoredEventClicked",type:N.pageLoad,context:"click"};function J(e){var n=e.translate;e=e.sponsoredPagesData.map((function(e){var n=e.title,r=e.name,a=e.pageType;return(e=e.logoImageUrl)?t().createElement("li",{key:r,className:"rbx-nav-sponsor","ng-non-bindable":"true"},t().createElement("a",{className:"text-nav menu-item",href:X(a,r),title:n,onClick:function(){return e=n,void(V.eventStreamService&&V.eventStreamService.sendEvent(Y,{sponsoredPageName:e}));var e}},e?t().createElement("img",{src:e,alt:""}):t().createElement("span",null,n))):null}));return t().createElement(t().Fragment,null,t().createElement("li",{className:"font-bold small text-nav"}," ",n("Label.sEvents")),e)}J.defaultProps={sponsoredPagesData:[]},J.propTypes={translate:w().func.isRequired,sponsoredPagesData:w().instanceOf(Array)};var Z=J;function ee(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(n){var a=c.authenticatedUser.isAuthenticated,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)([]),2),i=o[0],l=o[1];return(0,e.useEffect)((function(){a&&function(){var e={url:"".concat(q,"/v1/sponsored-pages"),withCredentials:!0};return r.httpService.get(e).then((function(e){return null==e?void 0:e.data})).catch((function(e){console.error(e)}))}().then((function(e){e=(null!==(e=null==e?void 0:e.data)&&void 0!==e?e:[]).filter((function(e){var t,n;return!(null!=e&&null!==(t=e.name)&&void 0!==t&&t.includes("giftcards")||null!=e&&null!==(n=e.title)&&void 0!==n&&n.includes("giftcards"))})),l(e)}),(function(e){console.debug(e)}))}),[a]),t().createElement(Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sponsoredPagesData:i},n))}N=angular;var re=n.n(N);function ae(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function le(){var e=c.authenticatedUser.id;return function(){var e={url:"".concat(j,"/v2/logout"),withCredentials:!0};return r.httpService.post(e)}().then(function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ce(o,r,a,i,c,"next",e)}function c(e){ce(o,r,a,i,c,"throw",e)}i(void 0)}))}}(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.cryptoUtil.deleteUserCryptoKeyPairUponLogout(e.toString());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.debug(t.t0);case 8:window.location.href=be();case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))))}var ue=U.universalSearchUrls,se=U.newUniversalSearchUrls,me=U.avatarSearchLink,fe=r.urlService.getQueryParam,pe=(r.urlService.parseUrl,r.urlService.composeQueryString),de=O,ve=R,be=k,ye=m,ge=s,he=!c.authenticatedUser.isAuthenticated,Se=(N=function(){var e=c.authenticatedUser.created;return function(){var e={url:"".concat(L,"/v1/email"),withCredentials:!0};return r.httpService.get(e)}().then((function(t){var n,r=t.data.verified;return n=e,t=r,r=new Date,n=new Date(n),+(ye<(r-n)/864e5&&!t)})).catch((function(e){console.debug(e)}))},O=function(){var e=(e=fe("returnUrl")||window.location.href)===ve()?"":e,t=de();return"".concat(t,"?").concat(pe({returnUrl:e}))},R=function(){var e=fe("returnUrl")||window.location.href,t=ve();return"".concat(t,"?").concat(pe({returnUrl:e}))},T=function(e){e.stopPropagation(),e.preventDefault(),document.dispatchEvent(new CustomEvent(ge.name)),re().isUndefined(re().element("#chat-container").scope())||(e=re().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")),null!==o.EmailVerificationService&&void 0!==o.EmailVerificationService&&o.EmailVerificationService.handleUserEmailUpsellAtLogout(le).then((function(e){e&&!e.emailAddress||le()}))},k=le,function(e){o.EventStream&&o.EventStream.SendEventWithTarget(e,"click",{},o.EventStream.TargetTypes.WWW)}),Ee=function(e){if(he||!o.RealTime)return function(){};document.addEventListener(d,e);var t=o.RealTime.Factory.GetClient();return t.Subscribe(p,e),function(){document.removeEventListener(d,e),t.Unsubscribe(p,e)}},we=function(e){return he||!o.RealTime?function(){}:(document.addEventListener(v,e),function(){document.removeEventListener(v,e)})},Oe=function(){var e;return null!==(e=(null===(e=window)||void 0===e?void 0:e.innerWidth)<543)&&e},Ce=(m=function(){var e;return!(e=null!==(e=null==(e=(null===(e=window)||void 0===e?void 0:e.location).pathname)?void 0:e.toLowerCase())&&void 0!==e?e:"").startsWith("/login")&&!e.startsWith("/newlogin")},function(){var e=ae(ue);return e.sort((function(e){return e.pageSort.reduce((function(e,t){return e||-1<window.location.href.indexOf(t)}),!1)?-1:1})),e}),xe=function(){var e=(t=ae(se)).filter((function(e){return e.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)}))})),t=t.filter((function(e){return e.pageSort.every((function(e){return-1===window.location.pathname.indexOf(e)}))}));return[].concat(ae(e),ae(t))},Ae=function(){return document.getElementById("navigation-container")&&document.getElementById("navigation-container").className},Ie=function(e){var t={};return("?"===e[0]?e.substr(1):e).split("&").forEach((function(e){var n;e.includes("=")&&(e=(n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("="),2))[0],n=n[1],t[null===(e=decodeURIComponent(e))||void 0===e?void 0:e.toLowerCase()]=decodeURIComponent(n))})),t};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Re(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ue=f;function Pe(n){var r=n.translate,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,["translate"]),i=(f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],l=f[1],u=(0,e.useCallback)((function(){l((function(e){return!e})),Se(Ue.clickMerchandise)}),[]),s=function(){l(!1)},m=Object.values(U.scrollListItems).map((function(e){return t().createElement($,Ne({key:e.name},ke(ke({translate:r,onClickShopLink:u},e),a)))})),f=(n=t().createElement("li",{className:"rbx-upgrade-now"},t().createElement("a",{href:U.upgradeButton.url,className:"btn-growth-md btn-secondary-md",onClick:function(){V.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(V.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,V.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEFT_NAVIGATION_BAR,V.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,c.authenticatedUser.isPremiumUser?V.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.PREMIUM:V.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GET_PREMIUM)},id:"upgrade-now-button"},r(U.upgradeButton.labelTranslationKey))),t().createElement(t().Fragment,null,t().createElement("p",{className:"shop-description"},r("Description.RetailWebsiteRedirect")),t().createElement("p",{className:"shop-warning"},r("Description.PurchaseAgeWarning"))));s=t().createElement(x.SimpleModal,{title:r("Heading.LeavingRoblox"),body:f,show:i,actionButtonShow:!0,actionButtonText:r("Action.Continue"),neutralButtonText:r("Action.Cancel"),onAction:function(){var e=decodeURIComponent(o.EnvironmentUrls.amazonWebStoreLink);window.open(e,"_blank"),Se(Ue.goToAmazonStore)},onNeutral:s,onClose:s});return t().createElement("ul",{className:"left-col-list"},m,n,t().createElement(ne,{translate:r}),s)}Pe.defaultProps={sponsoredPagesData:[]},Pe.propTypes={sponsoredPagesData:w().instanceOf(Array),translate:w().func.isRequired};var je=Pe;function Le(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(n){var a=c.authenticatedUser.isAuthenticated,o=De((0,e.useState)({}),2),i=o[0],l=o[1],u=(m=De((0,e.useState)({}),2))[0],s=m[1],m=(o=De((0,e.useState)({}),2))[0],f=o[1];return(0,e.useEffect)((function(){var e=function(){},t=function(){};return a&&(e=Ee((function(){Q().then((function(e){e=e.data,l(e)}),(function(e){console.debug(e)}))})),t=we((function(){K().then((function(e){e=e.data,s(e)}))})),Q().then((function(e){e=e.data,l(e)}),(function(e){console.debug(e)})),K().then((function(e){e=e.data,s(e)}),(function(e){console.debug(e)})),function(){var e={url:"".concat(F,"/v1/trades/inbound/count"),withCredentials:!0};return r.httpService.get(e)}().then((function(e){e=e.data,f(e)}),(function(e){console.debug(e)}))),function(){e(),t()}}),[]),t().createElement(je,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({friendsData:i,messagesData:u,tradeData:m},n))}var _e=c.authenticatedUser.name,Fe=(E=c.authenticatedUser.displayName,{nameForDisplay:null!==o.DisplayNames&&void 0!==o.DisplayNames&&o.DisplayNames.Enabled()?E:_e,nameForHeader:null!==o.DisplayNames&&void 0!==o.DisplayNames&&o.DisplayNames.Enabled()?r.concatTexts.concat(["",_e]):_e});function Be(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(n){var r=n.isLeftNavOpen,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,["isLeftNavOpen"]),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),i=(n=o[0],o[1]),l=(0,e.useRef)(null);return(0,e.useEffect)((function(){(function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:return e.prev=4,e.next=7,(0,I.robloxBadgesReadyForRender)();case 7:e.sent&&i((0,I.currentUserHasVerifiedBadge)()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),i(!1);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Be(o,r,a,i,c,"next",e)}function c(e){Be(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}})()().catch((function(){}))}),[r,l]),o=n&&I.VerifiedBadgeIconContainer?t().createElement("section",{ref:function(e){l.current=e}},t().createElement(I.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:I.BadgeSizes.CAPTIONHEADER})):null,r=C()("rbx-left-col",{"nav-show":r}),n=C()("font-header-2 dynamic-ellipsis-item",{"verified-badge-left-nav":n}),t().createElement("div",{id:"navigation",className:r},t().createElement("ul",null,t().createElement("li",{key:"username"},t().createElement(x.Link,{className:"dynamic-overflow-container text-nav",role:"link",url:U.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(A.Thumbnail2d,{containerClass:"avatar-card-image",targetId:c.authenticatedUser.id,type:A.ThumbnailTypes.avatarHeadshot,altName:c.authenticatedUser.name})),t().createElement("div",{className:n},Fe.nameForDisplay),o)),t().createElement("li",{key:"divider",className:"rbx-divider"})),t().createElement(x.ScrollBar,{className:"rbx-scrollbar"},t().createElement(Me,a)))}Ke.propTypes={isLeftNavOpen:w().bool.isRequired};var Qe=Ke;function Ve(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=b;function He(){return document.getElementById("navigation-container")}var $e,Xe=(0,l.withTranslations)((function(n){var r=c.authenticatedUser.isAuthenticated,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),o=a[0],i=a[1],l=(0,e.useCallback)((function(){i(!o)}),[o]);return(0,e.useEffect)((function(){return document.addEventListener(ze.name,l),function(){document.removeEventListener(ze.name,l)}}),[l]),r?t().createElement(Qe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isLeftNavOpen:o},n)):null}),S),Ye=(s=o.EnvironmentUrls.apiGatewayUrl,f=o.EnvironmentUrls.apiGatewayCdnUrl,o.EnvironmentUrls.localeApi,{experimentLayer:"Website.TopNavSearchBox",debounceTimeout:100,debouncedSearchInputMaxLength:35,expiryTimeout:5e3,variationId:1,trendingVariationId:0,avatarAutocompleteQueryPaddingAmount:10,requestSuggestionUrl:{url:s+"/games-autocomplete/v1/request-suggestion",withCredentials:!0},getSuggestionUrl:{url:s+"/games-autocomplete/v1/get-suggestion/",withCredentials:!0},avatarRequestSuggestionUrl:{url:s+"/autocomplete-avatar/v2/suggest",withCredentials:!0},avatarRequestSuggestionCdnUrl:{url:f+"/autocomplete-avatar/v2/suggest",withCredentials:!0},englishLanguageCode:"en",avatarAutocompleteUrlLocations:["Catalog","Trades","Inventory","Avatar","CatalogItem"],avatarAutocompleteSuggestionLimit:5,isSpecialTreatmentAutocompleteRestricted:function(){return 7===parseInt(He().dataset.numberOfAutocompleteSuggestions,10)&&U.miscSearchLink.reduce((function(e,t){return e.push.apply(e,t.pageSort),e}),[]).reduce((function(e,t){return e||-1<window.location.pathname.indexOf(t)}),!1)},isSpecialTreatment:function(){var e;return 7===parseInt(null===(e=He())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfSpecialTreatmentAutocompleteSuggestions:3,isAutocompleteSuggestionsIXPTestEnabled:function(){var e;return 0<parseInt(null===(e=He())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfAutocompleteSuggestions:function(){var e;return parseInt(null===(e=He())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)||0},isRedirectLibraryToCreatorMarketplaceEnabled:function(){var e;return"True"===(null===(e=He())||void 0===e?void 0:e.dataset.isRedirectLibraryToCreatorMarketplaceEnabled)}}),Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ze=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function c(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},et=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},tt=r.httpService.createCancelToken();function nt(e){return void 0===(null==e?void 0:e.label)}function rt(e){return void 0!==(null==e?void 0:e.Query)}function at(e){if(rt(e))return"avatar";switch(e.type){case $e.QuerySuggestion:return"keyword";case $e.GameSuggestion:return"game";default:throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e)))}}function ot(e){switch(e.label){case"Label.Players":return"defaultPlayers";case"Label.AvatarShop":case"Label.sCatalog":return"defaultShops";case"Label.sGroups":return"defaultGroups";case"Label.CreatorMarketplace":return"defaultLibrary";case"Label.Experience":return"defaultGames";default:throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e)))}}(f=$e=$e||{})[f.GameSuggestion=0]="GameSuggestion",f[f.QuerySuggestion=1]="QuerySuggestion",f[f.TrendingQuerySuggestion=2]="TrendingQuerySuggestion";var it=function(e){return Ze(void 0,void 0,Promise,(function(){return et(this,(function(t){switch(t.label){case 0:return tt.cancel(),tt=r.httpService.createCancelToken(),[4,r.httpService.get(Je(Je({},Ye.getSuggestionUrl),{url:Ye.getSuggestionUrl.url+encodeURIComponent(e.toLowerCase()),cancelToken:tt.token}))];case 1:return[2,t.sent().data]}}))}))},ct=function(e,t,n,a,o){return void 0===o&&(o=!1),Ze(void 0,void 0,Promise,(function(){var i;return et(this,(function(c){switch(c.label){case 0:return null===(i=t)&&(i=Ye.englishLanguageCode),i={prefix:e.toLowerCase(),limit:n,lang:i,q:a},tt.cancel(),tt=r.httpService.createCancelToken(),o?[4,r.httpService.get(Je(Je({},Ye.avatarRequestSuggestionUrl),{timeout:Ye.expiryTimeout,cancelToken:tt.token,fullError:!0}),i)]:[3,2];case 1:return[2,c.sent().data];case 2:return[4,r.httpService.get(Je(Je({},Ye.avatarRequestSuggestionCdnUrl),{timeout:Ye.expiryTimeout,cancelToken:tt.token,fullError:!0}),i)];case 3:return[2,c.sent().data]}}))}))},lt=nt,ut=rt,st=at,mt=ot,ft=function(e,t){return e.map((function(e){return nt(e)?"".concat(at(e),"|").concat(e.searchQuery):"".concat(ot(e),"|").concat(t)})).join(",")},pt=V.eventStreamService.eventTypes,dt="searchAutocomplete",vt={actionTypes:{open:"open",submit:"submit",close:"close"},generateSessionInfo:r.uuidService.generateRandomUuid,searchTextTrim:function(e,t,n,r){return[{name:"searchTextTrim",type:pt.formInteraction,context:dt},{kwd:e,resultingKwd:t,searchType:n,sessionInfo:r}]},searchClear:function(e,t,n,r){return[{name:"searchClear",type:pt.formInteraction,context:dt},{kwd:e,searchType:t,sessionInfo:n,page:r}]},searchSuggestionClicked:function(e,t,n,r,a,o,i){return[{name:"searchSuggestionClicked",type:pt.formInteraction,context:dt},{kwd:e,searchType:t,suggestionPosition:n,suggestionClicked:r,suggestionType:a,suggestions:o,sessionInfo:i}]},searchAutocomplete:function(e,t,n,r,a,o,i,c,l,u){return[{name:"searchAutocomplete",type:pt.formInteraction,context:dt},{kwd:e,previousKwd:t,fromLocalCache:n,suggestions:r,algorithm:a,latency:o,timeoutDelayMs:i,sessionInfo:c,page:l,isPersonalizedBasedOnPreviousQuery:u}]},search:function(e,t,n){return[{name:"search",type:pt.formInteraction,context:dt},{kwd:e,actionType:t,sessionInfo:n}]},catalogSearch:function(e,t){return[{name:"catalogSearch",type:pt.formInteraction,context:dt},{autocompleteFlag:e,previousPage:t}]}};function bt(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e){var n,r=e.translate,a=e.searchInput,o=e.indexOfSelectedOption,i=e.autocompleteSessionInfo,c=e.resetAutocompleteSessionInfo,l=Ce();return t().createElement(t().Fragment,null,Object.entries(l).map((function(e){var u=(m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0],s=m[1],m=(e=s.url,s.label);return"Label.sCatalog"===(n=m)&&(n="Label.AvatarShop"),m=C()("navbar-search-option rbx-clickable-li",parseInt(u,10)===o?" selected":""),t().createElement("li",{key:u,className:m},t().createElement(x.Link,{className:"navbar-search-anchor",url:e+a,onClick:function(){V.eventStreamService.sendEvent.apply(V.eventStreamService,function(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(vt.searchSuggestionClicked(a,void 0,u,a,mt(s),ft(l,a),i))),c()}},r("Label.sSearchPhrase",{phrase:a,location:r(n)})))})))}gt.propTypes={translate:w().func.isRequired,searchInput:w().string.isRequired,indexOfSelectedOption:w().number.isRequired,autocompleteSessionInfo:w().string.isRequired,resetAutocompleteSessionInfo:w().func.isRequired};var ht=gt;function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=U.gameSearchLink,wt=U.avatarSearchLink,Ot=U.creatorMarketplaceUrl;function Ct(n){var r=n.translate,a=n.selected,o=n.suggestion,i=n.onClick,c=C()("navbar-search-option rbx-clickable-li",{"new-selected":a}),l=o.type,u=o.universeId,s=(n=o.searchQuery,o=(a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],a[1]);return l===$e.GameSuggestion?t().createElement("li",{className:c},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:Et.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:C()(Et.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(Et.label)})),t().createElement("span",{className:C()("navbar-list-option-thumbnail",{"navbar-list-option-thumbnail-visible":o})},t().createElement("span",{className:"background-icon"}),t().createElement(A.Thumbnail2d,{type:A.ThumbnailTypes.gameIcon,size:A.DefaultThumbnailSize,targetId:u,containerClass:"thumbnail-icon",format:A.ThumbnailFormat.jpeg,onLoad:function(){s(!0)}})))):t().createElement("li",{className:c},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:Et.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:C()(Et.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(Et.label)}))))}function xt(e){var n=e.translate,r=e.selected,a=e.suggestion;e=e.onClick,r=C()("navbar-search-option rbx-clickable-li",{"new-selected":r}),a=a.Query;return t().createElement("li",{className:r},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:wt.url+encodeURIComponent(a),onClick:e},t().createElement("span",{className:C()(wt.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(wt.label)}))))}function At(e){var n=e.translate,r=e.selected,a=e.searchInput,o=e.suggestion,i=e.onClick,c=o.url;e=o.label,o=o.icon,c=(0,Ye.isRedirectLibraryToCreatorMarketplaceEnabled)()&&"Label.CreatorMarketplace"===e?Ot:c,r=C()("navbar-search-option rbx-clickable-li",{"new-selected":r});return t().createElement("li",{className:r},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:c+encodeURIComponent(a),onClick:i},t().createElement("span",{className:C()(o,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a.toLowerCase()),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(e)}))))}function It(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e){function n(e,t){return function(){var n=c[t];V.eventStreamService.sendEvent.apply(V.eventStreamService,It(vt.searchSuggestionClicked(o,void 0,t,lt(n)?n.searchQuery:o,e,ft(c,o),l))),u(),n=e.includes("default")?0:1,V.eventStreamService.sendEvent.apply(V.eventStreamService,It(vt.catalogSearch(n,r.pageName.PageNameProvider.getInternalPageName())))}}var a=e.translate,o=e.searchInput,i=e.indexOfSelectedOption,c=e.searchSuggestions,l=e.autocompleteSessionInfo,u=e.resetAutocompleteSessionInfo;return c.map((function(e,r){var c=parseInt(r,10)===i;return lt(e)&&ut(e)?t().createElement(xt,{key:e.Query,translate:a,selected:c,suggestion:e,onClick:n(st(e),r)}):lt(e)?t().createElement(Ct,{key:e.searchQuery,translate:a,selected:c,suggestion:e,onClick:n(st(e),r)}):t().createElement(At,{key:e.url,translate:a,selected:c,suggestion:e,searchInput:o,onClick:n(mt(e),r)})}))}Ct.propTypes={translate:w().func.isRequired,selected:w().bool.isRequired,suggestion:w().shape({type:w().number.isRequired,score:w().number.isRequired,universeId:w().number,canonicalTitle:w().string,thumbnailUrl:w().string,searchQuery:w().string.isRequired,trendingSearchStartDateTime:w().string}).isRequired,onClick:w().func.isRequired},xt.propTypes={translate:w().func.isRequired,selected:w().bool.isRequired,suggestion:w().shape({Query:w().string}).isRequired,onClick:w().func.isRequired},At.propTypes={translate:w().func.isRequired,selected:w().bool.isRequired,searchInput:w().string.isRequired,suggestion:w().shape({url:w().string.isRequired,label:w().string.isRequired,pageSort:w().arrayOf(w().string).isRequired,icon:w().string.isRequired}).isRequired,onClick:w().func.isRequired},Rt.propTypes={translate:w().func.isRequired,searchInput:w().string.isRequired,indexOfSelectedOption:w().number.isRequired,searchSuggestions:w().arrayOf(w().oneOfType([w().shape({type:w().number.isRequired,score:w().number.isRequired,universeId:w().number.isRequired,canonicalTitle:w().string,thumbnailUrl:w().string,searchQuery:w().string.isRequired,trendingSearchStartDateTime:w().string}),w().shape({url:w().string.isRequired,label:w().string.isRequired,pageSort:w().arrayOf(w().string).isRequired,icon:w().string.isRequired}),w().shape({Query:w().string.isRequired,Score:w().number.isRequired})])).isRequired,autocompleteSessionInfo:w().string.isRequired,resetAutocompleteSessionInfo:w().func.isRequired};var kt=Rt;function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ut(n){var a=n.translate,o=n.searchInput,i=n.isMenuOpen,c=n.openMenu,u=n.closeMenu,s=n.handleSearch,m=n.setIsMenuHover,f=n.indexOfSelectedOption,p=n.onSubmit,d=n.onKeyDown,v=n.onKeyUp,b=n.isUniverseSearchShown,y=n.searchSuggestions,g=n.autocompleteSessionInfo,h=n.resetAutocompleteSessionInfo,S=n.isAvatarAutocompleteEnabled,E=(0,e.createRef)(),w=(0,e.createRef)();n=function(){var e;V.eventStreamService.sendEvent.apply(V.eventStreamService,function(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(vt.searchClear(o,void 0,g,null===r.pageName||void 0===r.pageName||null===(e=r.pageName.PageNameProvider)||void 0===e?void 0:e.getInternalPageName()))),null==E||null!==(e=E.current)&&void 0!==e&&e.focus(),s({target:{value:""}})},b=C()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3",{"navbar-search-open":i,shown:b}),S=Ye.isAutocompleteSuggestionsIXPTestEnabled()||S;return(0,l.useOnClickOutside)([E,w],u),t().createElement("div",{"data-testid":"navigation-search-input",className:b,role:"search"},t().createElement("div",{className:"input-group"},t().createElement("form",{onSubmit:p},S?t().createElement("div",{className:"form-has-feedback"},t().createElement("input",{ref:E,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field new-input-field",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:c,onKeyDown:d,onKeyUp:v,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),0<o.length&&t().createElement("span",{"data-testid":"navigation-search-input-clear-button",tabIndex:0,role:"button","aria-label":"Clear Search",onClick:n,onKeyDown:n,className:"clear-search icon-actions-clear-sm"},t().createElement("span",null))):t().createElement("input",{ref:E,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field",type:"text",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:c,onKeyDown:d,onKeyUp:v,autoComplete:"off"})),t().createElement("div",{className:"input-group-btn"},t().createElement("button",{"data-testid":"navigation-search-input-search-button",className:"input-addon-btn",type:"submit"},t().createElement("span",{className:"icon-common-search-sm"})))),t().createElement("ul",{ref:w,className:C()("dropdown-menu",{"new-dropdown-menu":S}),role:"menu",onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)}},S?t().createElement(kt,{translate:a,searchInput:o,indexOfSelectedOption:f,searchSuggestions:y,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h}):t().createElement(ht,{translate:a,searchInput:o,indexOfSelectedOption:f,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h})))}Ut.defaultProps={isUniverseSearchShown:!0,isAvatarAutocompleteEnabled:!1},Ut.propTypes={translate:w().func.isRequired,searchInput:w().string.isRequired,isMenuOpen:w().bool.isRequired,openMenu:w().func.isRequired,closeMenu:w().func.isRequired,handleSearch:w().func.isRequired,setIsMenuHover:w().func.isRequired,indexOfSelectedOption:w().number.isRequired,onSubmit:w().func.isRequired,onKeyDown:w().func.isRequired,onKeyUp:w().func.isRequired,isUniverseSearchShown:w().bool,isAvatarAutocompleteEnabled:w().bool,searchSuggestions:w().arrayOf(w().oneOfType([w().shape({type:w().number.isRequired,score:w().number.isRequired,universeId:w().number.isRequired,canonicalTitle:w().string,thumbnailUrl:w().string,searchQuery:w().string.isRequired,trendingSearchStartDateTime:w().string}),w().shape({url:w().string.isRequired,label:w().string.isRequired,pageSort:w().arrayOf(w().string).isRequired,icon:w().string}),w().shape({query:w().string.isRequired,score:w().number.isRequired})])).isRequired,autocompleteSessionInfo:w().string.isRequired,resetAutocompleteSessionInfo:w().func.isRequired};var Pt=Ut;function jt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Lt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(n){var a=n.translate,i=n.isUniverseSearchShown,c=(w=Dt((0,e.useState)(Ie(window.location.search).keyword||""),2))[0],s=w[1],m=(0,l.useDebounce)(c,Ye.debounceTimeout),f=(0,l.usePrevious)(m),p=(n=Dt((0,e.useState)(null),2))[0],d=n[1],v=(w=Dt((0,e.useState)(vt.generateSessionInfo()),2))[0],b=w[1],y=(n=Dt((0,e.useState)(!1),2))[0],g=n[1],h=(w=Dt((0,e.useState)(!0),2))[0],S=w[1],E=(n=Dt((0,e.useState)(!1),2))[0],w=n[1],O=(n=Dt((0,e.useState)(0),2))[0],C=n[1],x=(n=Dt((0,e.useState)(!1),2))[0],A=n[1],I=(n=Dt((0,e.useState)(!1),2))[0],N=n[1],R=u,k=(n=Dt((0,e.useState)((Ye.isAutocompleteSuggestionsIXPTestEnabled()?xe:Ce)()),2))[0],T=n[1],P=k.findIndex((function(e){return e.label===U.gameSearchLink.label})),j=xe().findIndex((function(e){return e.label===U.avatarSearchLink.label})),L=function(){var e=(new o.TranslationResourceProvider).intl.locale,t=e.indexOf("-");return(e=e.substring(0,-1!==t?t:e.length))!==Ye.englishLanguageCode&&(e+=",".concat(Ye.englishLanguageCode)),e}();function D(e){if(e){if(q){var t=-1===p.findIndex((function(e){return e.searchQuery===m.toLowerCase()&&ut(e)})),n=e.filter((function(e){return e.searchQuery!==m.toLowerCase()||ut(e)}));return[].concat(Lt(k.slice(0,t?j+1:j)),Lt(n),Lt(k.slice(j+1)))}return Ye.isSpecialTreatmentAutocompleteRestricted()?k:(n=-1===e.findIndex((function(e){return e.searchQuery===m.toLowerCase()&&e.type===$e.GameSuggestion})),e=e.filter((function(e){return e.searchQuery!==m.toLowerCase()||e.type===$e.GameSuggestion})).slice(0,Ye.isSpecialTreatment()?Ye.numberOfSpecialTreatmentAutocompleteSuggestions:Ye.numberOfAutocompleteSuggestions()),[].concat(Lt(k.slice(0,n?P+1:P)),Lt(e),Lt(k.slice(P+1))))}return k}(0,e.useEffect)((function(){o.ExperimentationService&&o.ExperimentationService.getAllValuesForLayer(Ye.experimentLayer).then((function(e){e.ixpDisableGamesAutocomplete&&A(!0)}))}),[]);var q=me.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)})),M=(0,e.useMemo)((function(){return D(p)}),[p,k]),_=M.length;function F(){b(vt.generateSessionInfo())}return(0,e.useEffect)((function(){h||V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.search(c,vt.actionTypes.submit,v))),S(!1);var e=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==m&&m.length<=Ye.debouncedSearchInputMaxLength)){e.next=34;break}if(d(null),t=Date.now(),q)return e.prev=4,n=Date.now(),e.next=8,ct(m,L,Ye.avatarAutocompleteQueryPaddingAmount,f,I);e.next=20;break;case 8:o=e.sent,i=function(e,t){var n=0,r=[];return e.forEach((function(e){n<Ye.avatarAutocompleteSuggestionLimit&&e.Query!==t&&(r.push(e),n+=1)})),r}(o.Data,m),V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.searchAutocomplete(m,f,!1,i,o.Args.Algo,n-t,Ye.debounceTimeout,"",r.pageName.PageNameProvider.getInternalPageName(),""!==f))),d(i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),r.httpService.isCancelled(e.t0)||d([]),N(!0);case 18:e.next=34;break;case 20:if(Ye.isAutocompleteSuggestionsIXPTestEnabled()&&!x)return e.prev=21,e.next=24,it(m);e.next=34;break;case 24:a=e.sent,o=Date.now(),i=D(a.entries),V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.searchAutocomplete(m,f,!1,ft(i,m),a.algorithmName,o-t,Ye.debounceTimeout,v,r.pageName.PageNameProvider.getInternalPageName(),!1))),d(a.entries),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),r.httpService.isCancelled(e.t1)||d([]);case 34:case"end":return e.stop()}}),e,null,[[4,14],[21,31]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jt(o,r,a,i,c,"next",e)}function c(e){jt(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();q&&T(xe()),e()}),[m]),t().createElement(Pt,{searchInput:c,handleSearch:function(e){(e=e.target.value).length<c.length&&V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.searchTextTrim(c,e,void 0,v))),0===e.length&&F(),C(0),g(0<e.length),s(e)},openMenu:function(){var e=vt.generateSessionInfo();V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.search(c,vt.actionTypes.open,e))),b(e),0===c.length||E||g(!0)},closeMenu:function(){y&&(V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.search(c,vt.actionTypes.close,v))),g(!1))},setIsMenuHover:w,isMenuOpen:y,indexOfSelectedOption:O,onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=O;!y||e.keyCode!==R.arrowUp&&e.keyCode!==R.arrowDown&&e.keyCode!==R.tab||(e.stopPropagation(),e.preventDefault(),e.keyCode===R.arrowUp?--t:t+=1,(t%=_)<0&&(t=_+t),C(t))},onKeyUp:function(e){var t,n,a,o;e.keyCode===R.enter&&(e.stopPropagation(),e.preventDefault(),t=M[O],lt(t)?(V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.searchSuggestionClicked(m,void 0,O,t.searchQuery,st(t),ft(M,c),v))),V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.catalogSearch(1,r.pageName.PageNameProvider.getInternalPageName())))):(V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.searchSuggestionClicked(m,void 0,O,m,mt(t),ft(M,c),v))),V.eventStreamService.sendEvent.apply(V.eventStreamService,Lt(vt.catalogSearch(0,r.pageName.PageNameProvider.getInternalPageName())))),F(),(o=function(e,t){var n;return nt(e)&&rt(e)?U.avatarSearchLink.url+encodeURIComponent(e.Query):nt(e)?U.gameSearchLink.url+encodeURIComponent(e.searchQuery):null!=t&&null!==(n=t.target)&&void 0!==n&&n.value?e.url+encodeURIComponent(t.target.value):""}(t,e))&&(n=Ye.isRedirectLibraryToCreatorMarketplaceEnabled,o=o,"Label.CreatorMarketplace"===t.label&&n()&&(o=U.creatorMarketplaceUrl,null!=e&&null!==(a=e.target)&&void 0!==a&&a.value&&(o+=encodeURIComponent(e.target.value))),window.location=o))},isUniverseSearchShown:i,translate:a,searchSuggestions:M,autocompleteSessionInfo:v,resetAutocompleteSessionInfo:F,isAvatarAutocompleteEnabled:q})}_t.defaultProps={isUniverseSearchShown:!0},_t.propTypes={translate:w().func.isRequired,isUniverseSearchShown:w().bool};var Ft=(0,l.withTranslations)(_t,S);function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);return n=t?(n=Qt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==Bt(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{re().module("notificationStreamIcon"),re().bootstrap(this.container,["notificationStreamIcon"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this;return t().createElement("span",{ref:function(t){e.container=t},className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"}))}}])&&Gt(e.prototype,n),a}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);return n=t?(n=$t(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==Wt(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{re().module("notificationStream"),re().bootstrap(this.container,["notificationStream"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this,n=Ae();n=C()("notification-stream-base",n);return t().createElement("div",{ref:function(t){e.container=t},className:n,"notification-stream-base-view":"true"})}}])&&zt(e.prototype,n),a}(),Yt="nsCloseContent",Jt="click",Zt={};function en(){var n=(0,e.useRef)();return t().createElement("li",{id:"navbar-stream",ref:n,className:"navbar-icon-item navbar-stream notification-margins"},t().createElement(x.Popover,{id:"notification-stream-popover",trigger:"click",placement:"bottom",closeOnClick:!1,button:t().createElement("button",{type:"button",className:"btn-uiblox-common-common-notification-bell-md"},t().createElement(Vt,null)),container:n.current,onExit:function(){window.dispatchEvent(new Event("Roblox.NotificationStream.StreamClosed")),V.eventStreamService.sendEventWithTarget(Yt,Jt,Zt)},role:"menu"},t().createElement(Xt,null)))}en.propTypes={};var tn=en;function nn(e){var n=e.accountNotificationCount;e=C()("notification-red notification nav-setting-highlight",{hidden:0===n});return t().createElement("span",{id:"settings-icon",className:"nav-settings-icon rbx-menu-item"},t().createElement("span",{className:"icon-nav-settings roblox-popover-close",id:"nav-settings"}),t().createElement("span",{className:e},n))}nn.defaultProps={accountNotificationCount:0},nn.propTypes={accountNotificationCount:w().number};var rn=nn;function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var on=U.settingsUrl,cn=U.quickLoginUrl,ln=T,un=y,sn=h,mn=g;function fn(e){var n=e.translate,r=e.accountNotificationCount,a=e.isCrossDeviceLoginCodeValidationDisplayed,o=C()("notification-blue notification nav-setting-highlight",{hidden:0===r});return Object.entries(on).map((function(e){var i=(c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0],c=(e=c[1]).url;e=e.label;return t().createElement("li",null,i===mn&&t().createElement(x.Link,{className:"rbx-menu-item logout-menu-item",key:i,onClick:ln,url:"#"},n(e)),i===un&&a&&t().createElement(x.Link,{className:"rbx-menu-item",key:i,url:cn},n(e)),i!==mn&&i!==un&&t().createElement(x.Link,{cssClasses:"rbx-menu-item",key:i,url:c},n(e),i===sn&&t().createElement("span",{className:o},r)))}))}fn.defaultProps={accountNotificationCount:0,isCrossDeviceLoginCodeValidationDisplayed:!1},fn.propTypes={translate:w().func.isRequired,accountNotificationCount:w().number,isCrossDeviceLoginCodeValidationDisplayed:w().bool};var pn=fn;function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(n){var r=n.translate,a=n.accountNotificationCount,o=(n=(i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],i[1]),i=(0,e.useRef)();return(0,e.useEffect)((function(){o(!0)}),[]),t().createElement("li",{id:"navbar-settings",ref:i,className:"navbar-icon-item"},t().createElement(x.Popover,{id:"settings-popover",trigger:"click",placement:"bottom",className:Ae(),containerPadding:20,button:t().createElement("button",{type:"button",className:"btn-navigation-nav-settings-md"},t().createElement(rn,{accountNotificationCount:a})),container:i.current,role:"menu"},t().createElement("div",{className:Ae()},t().createElement("ul",{id:"settings-popover-menu",className:"dropdown-menu"},t().createElement(pn,{isCrossDeviceLoginCodeValidationDisplayed:n,translate:r,accountNotificationCount:a})))))}vn.defaultProps={accountNotificationCount:0},vn.propTypes={translate:w().func.isRequired,accountNotificationCount:w().number};var bn=vn;function yn(n){var a=n.robuxAmount,o=n.isGetCurrencyCallDone;a=(n=n.robuxError)?"?":r.abbreviateNumber.getTruncValue(a),a=t().createElement(e.Fragment,null,t().createElement("span",{className:"icon-robux-28x28 roblox-popover-close",id:"nav-robux"}),t().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},o&&a));return t().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item"},n?t().createElement(x.Tooltip,{id:"current-error",content:n,placement:"bottom",containerClassName:"nav-buy-robux-icon-tooltip-container"},a):a)}yn.defaultProps={robuxAmount:0,robuxError:""},yn.propTypes={robuxAmount:w().number,robuxError:w().string,isGetCurrencyCallDone:w().bool.isRequired};var gn=yn,hn=U.buyRobuxUrl;function Sn(e){var n=e.translate,a=e.robuxAmount,o=e.isGetCurrencyCallDone;a=e.robuxError?"?":r.numberFormat.getNumberFormat(a);return t().createElement(t().Fragment,null,t().createElement("li",null,t().createElement(x.Link,{cssClasses:"rbx-menu-item",id:"nav-robux-balance",url:hn.robuxBalance.url},o&&n("Label.sRobuxMessage",{robuxValue:a}))),t().createElement("li",null,t().createElement(x.Link,{cssClasses:"rbx-menu-item",url:hn.buyRobux.url,onClick:function(){V.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(V.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_ROBUX_PURCHASE,!1,V.paymentFlowAnalyticsService.ENUM_VIEW_NAME.NAVIGATION_DROPDOWN_MENU,V.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,V.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX)}},n(hn.buyRobux.label))))}Sn.defaultProps={robuxAmount:0,robuxError:""},Sn.propTypes={translate:w().func.isRequired,robuxAmount:w().number,robuxError:w().string,isGetCurrencyCallDone:w().bool.isRequired};var En=Sn;function wn(n){var r=n.translate,a=n.robuxAmount,o=n.isGetCurrencyCallDone,i=n.robuxError;n=(0,e.useRef)();return t().createElement("li",{id:"navbar-robux",ref:n,className:"navbar-icon-item"},t().createElement(x.Popover,{id:"buy-robux-popover",trigger:"click",placement:"bottom",button:t().createElement("button",{type:"button",className:"btn-navigation-nav-robux-md"},t().createElement(gn,{robuxAmount:a,isGetCurrencyCallDone:o,robuxError:i})),role:"menu",container:n.current},t().createElement("div",{className:Ae()},t().createElement("ul",{id:"buy-robux-popover-menu",className:"dropdown-menu"},t().createElement(En,{translate:r,robuxAmount:a,isGetCurrencyCallDone:o,robuxError:i})))))}wn.defaultProps={robuxAmount:0,robuxError:""},wn.propTypes={translate:w().func.isRequired,robuxAmount:w().number,robuxError:w().string,isGetCurrencyCallDone:w().bool.isRequired};var On=wn;function Cn(e){return e=e.toggleUniverseSearch,t().createElement("li",{className:"rbx-navbar-right-search"},t().createElement("button",{type:"button",className:"rbx-menu-item btn-navigation-nav-search-white-md",onClick:e},t().createElement("span",{className:"icon-nav-search-white"})))}Cn.propTypes={toggleUniverseSearch:w().func.isRequired};var xn=Cn;function An(){var n=(0,e.useRef)(null),r=c.authenticatedUser.isUnder13,a=(0,I.currentUserHasVerifiedBadge)()&&I.VerifiedBadgeIconContainer?t().createElement("section",{ref:function(e){n.current=e}},t().createElement(I.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:I.BadgeSizes.CAPTIONHEADER})):null;return t().createElement("div",{className:"age-bracket-label text-header"},t().createElement(x.Link,{className:"text-link dynamic-overflow-container",url:U.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(A.Thumbnail2d,{containerClass:"avatar-card-image",targetId:c.authenticatedUser.id,type:A.ThumbnailTypes.avatarHeadshot,altName:c.authenticatedUser.name})),t().createElement("span",{className:"text-overflow age-bracket-label-username font-caption-header"},Fe.nameForHeader),a),t().createElement("span",{className:"xsmall age-bracket-label-age text-secondary"},r?"<13":"13+"))}An.propTypes={};var In=An;function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kn=N;function Tn(n){var a,o=n.translate,i=n.toggleUniverseSearch,l=c.authenticatedUser.isAuthenticated,u=c.authenticatedUser.id,s=(d=Nn((0,e.useState)(0),2))[0],m=d[1],f=(a=Nn((0,e.useState)(!1),2))[0],p=a[1],d=(n=Nn((0,e.useState)(0),2))[0],v=n[1],b=(n=(a=Nn((0,e.useState)(""),2))[0],a[1]);(0,e.useEffect)((function(){l&&(kn().then(m),function(e){return e={url:G(e),withCredentials:!0},r.httpService.get(e)}(u).then((function(e){e=e.data,v(e.robux)}),(function(){b("Currency service unavailable")})).finally((function(){p(!0)})))}),[l,u]);var y=t().createElement("li",{id:"navbar-stream",className:"navbar-icon-item navbar-stream"},t().createElement("span",{className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"})));try{re().module("notificationStreamIcon"),re().module("notificationStream"),y=t().createElement(tn,null)}catch(n){console.log(n)}return t().createElement("ul",{className:"nav navbar-right rbx-navbar-icon-group"},t().createElement(In,null),t().createElement(xn,{translate:o,toggleUniverseSearch:i}),y,t().createElement(On,{translate:o,robuxAmount:d,isGetCurrencyCallDone:f,robuxError:n}),t().createElement(bn,{translate:o,accountNotificationCount:s}))}function Un(){window.location.href=jn()}Tn.defaultProps={accountNotificationCount:0},Tn.propTypes={translate:w().func.isRequired,accountNotificationCount:w().number,toggleUniverseSearch:w().func.isRequired};var Pn=Tn,jn=O;function Ln(e){return e=e.translate,t().createElement("li",{className:"signup-button-container"},t().createElement(x.Link,{onClick:Un,url:jn(),id:"sign-up-button",className:"rbx-navbar-signup btn-growth-sm nav-menu-title signup-button"},e("Label.sSignUp")))}function Dn(){window.location.href=_n()}Ln.propTypes={translate:w().func.isRequired};var qn=Ln,Mn=m,_n=R;function Fn(e){return e=e.translate,t().createElement("li",{className:"login-action"},Mn()&&t().createElement(x.Link,{onClick:Dn,url:_n(),className:"rbx-navbar-login btn-secondary-sm nav-menu-title rbx-menu-item"},e("Label.sLogin")))}Fn.propTypes={translate:w().func.isRequired};var Bn=Fn;function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kn(e){var n=e.translate,r=e.toggleUniverseSearch;e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["translate","toggleUniverseSearch"]);return c.authenticatedUser.isAuthenticated?t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement(Pn,Gn({translate:n,toggleUniverseSearch:r},e))):t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement("ul",{className:"nav navbar-right rbx-navbar-right-nav"},t().createElement(qn,{translate:n}),t().createElement(Bn,{translate:n}),t().createElement(xn,{translate:n,toggleUniverseSearch:r})))}Kn.propTypes={translate:w().func.isRequired,toggleUniverseSearch:w().func.isRequired};var Qn=Kn;function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hn=(0,l.withTranslations)((function(n){var r=Oe(),a=Wn((0,e.useState)(r),2),o=a[0],i=a[1],c=(r=(a=Wn((0,e.useState)(!r),2))[0],a[1]),l=(0,e.useCallback)((function(){var e=Oe();o!==e&&(i(e),c(!e))}),[o]);return(0,e.useEffect)((function(){return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[l]),t().createElement(t().Fragment,null,t().createElement(Ft,Vn({isUniverseSearchShown:r},n)),t().createElement(Qn,Vn({toggleUniverseSearch:function(){c((function(e){return!e}))}},n)))}),S);function $n(e){e=e.translate;var n=document.getElementById("container-main");return t().createElement(x.Button,{id:"skip-to-main-content",size:x.Button.sizes.extraSmall,variant:x.Button.variants.primary,onClick:function(){return n.focus()}},e("Action.SkipToMainContent")||"Skip to main content")}$n.propTypes={translate:w().func.isRequired};var Xn=$n,Yn=b,Jn=c.authenticatedUser.isAuthenticated;function Zn(n){var r=x.IconButton.iconTypes;return t().createElement(e.Fragment,null,t().createElement(Xn,n),Jn&&t().createElement(x.IconButton,{className:"menu-button",iconType:r.navigation,iconName:"nav-menu",onClick:function(){document.dispatchEvent(new CustomEvent(Yn.name))}}))}Zn.propTypes={};var er=(0,l.withTranslations)(Zn,S);function tr(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(226);k=k;var rr="right-navigation-header",ar="left-navigation-container",or="header-menu-icon";i().NavigationService=nr(nr({},i().NavigationService),{},{logoutAndRedirect:k}),(0,r.ready)((function(){document.getElementById(or)&&(0,a.render)(t().createElement(er,null),document.getElementById(or)),document.getElementById(rr)&&(0,a.render)(t().createElement(Hn,null),document.getElementById(rr)),document.getElementById(ar)&&(0,a.render)(t().createElement(Xe,null),document.getElementById(ar))}))}()}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("Navigation");