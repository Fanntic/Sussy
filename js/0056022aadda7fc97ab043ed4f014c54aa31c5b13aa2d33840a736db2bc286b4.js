!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=CoreUtilities,n=React,r=e.n(n),o=ReactDOM,a=Roblox,c=e.n(a),i=PropTypes,l=e.n(i),u=ReactUtilities,s="accountRecoveryModal-container",d=ReactStyleGuide;function y(e){var t=e.show,n=e.onHide,o=e.translate;e=e.onPrimaryAction;return r().createElement(d.Modal,{show:t,onHide:n,className:"account-recovery-modal",size:"lg","aria-labelledby":"contained-modal-title-vcenter",scrollable:"true",centered:"true",backdrop:"static"},r().createElement(d.Modal.Header,{useBaseBootstrapComponent:!0},r().createElement("div",{className:"account-recovery-modal-title-container"},r().createElement(d.Modal.Title,{id:"contained-modal-title-vcenter"},o("Heading.AccountRecoveryPrompt.Title")))),r().createElement(d.Modal.Body,null,r().createElement("div",{className:"account-recovery-modal-body-container"},r().createElement("div",{className:"text-lead account-recovery-modal-body-text"},o("Description.AccountRecoveryPrompt.Body")),r().createElement("div",{className:"account-recovery-yes-button-container"},r().createElement("button",{type:"button",className:"btn-primary-lg btn-full-width account-recovery-yes-button",onClick:e},o("Action.Yes"))),r().createElement("div",{className:"account-recovery-no-button-container"},r().createElement("button",{type:"button",className:"btn-secondary-lg btn-full-width account-recovery-no-button",onClick:n},o("Action.No"))))))}y.propTypes={translate:l().func.isRequired,onPrimaryAction:l().func.isRequired,onHide:l().func.isRequired,show:l().bool.isRequired};var m=y,p={forgotCredentials:"".concat(a.EnvironmentUrls.websiteUrl,"/login/forgot-password-or-username")},b=CoreRobloxUtilities,f="forgotPasswordPrompt",v=(i="buttonClick",{modalShown:{name:"modalShown",type:b.eventStreamService.eventTypes.modalAction,context:f,params:{aType:"shown"}},yesButtonClick:{name:"yesButtonClick",type:i,context:f,params:{btn:"yes"}},noButtonClick:{name:"noButtonClick",type:i,context:f,params:{btn:"no"}}}),w={apiUrls:{enrollAbtestingApi:{url:"".concat(a.EnvironmentUrls.abtestingApiSite,"/v1/enrollments"),retryable:!1,withCredentials:!1}},abtestingRequest:{subjectType:"BrowserTracker",experimentName:"Web.Login.AccountRecoveryPrompt"},abtestingResponse:{status:{enrolled:"Enrolled"}}};function g(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function h(e){b.eventStreamService.sendEventWithTarget(e.type,e.context,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){var r,o;r=e,t=n[o=t],o in r?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.params))}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var o,c=e.translate,i=(e=(o=R((0,n.useState)(!1),2))[0],o[1]),l=(o=R((0,n.useState)(-1),2))[0],u=o[1];return(0,n.useEffect)((function(){var e,n;e=function(e){u(e)},n=[{SubjectType:w.abtestingRequest.subjectType,SubjectTargetId:a.Cookies.getBrowserTrackerId(),ExperimentName:w.abtestingRequest.experimentName}],t.httpService.post(w.apiUrls.enrollAbtestingApi,n).then((function(t){var n;t.data&&t.data.data&&0<t.data.data.length&&(n=t.data.data[0],t=w.abtestingResponse,n.Status===t.status.enrolled&&(1===n.Variation?e(1):2===n.Variation?e(3):e(-1))),e(-1)}))}),[]),window.addEventListener("OpenAccountRecoveryModal",(function(e){-1<l&&e.detail>=l&&(h(v.modalShown),i(!0))}),!1),r().createElement(m,{show:e,onPrimaryAction:function(){return h(v.yesButtonClick),void(window.location.href=p.forgotCredentials)},onHide:function(){return h(v.noButtonClick),void i(!1)},translate:c})}O.propTypes={translate:l().func.isRequired};var A=O;function S(e){return e=e.translate,r().createElement(A,{translate:e})}S.propTypes={translate:l().func.isRequired};var j=(0,u.withTranslations)(S,{common:["CommonUI.Controls"],feature:"Authentication.ResetPassword"});c().AccountRecoveryModalService={openAccountRecoveryModal:function(e){e=new CustomEvent("OpenAccountRecoveryModal",{detail:e}),window.dispatchEvent(e)}},(0,t.ready)((function(){document.getElementById(s)&&(0,o.render)(r().createElement(j,null),document.getElementById(s))}))}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("AccountRecoveryModal");